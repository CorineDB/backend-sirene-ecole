{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Exception de Jour Férié",
  "description": "Schéma strict pour une exception de jour férié dans une programmation",
  "type": "object",
  "required": ["date", "action"],
  "properties": {
    "date": {
      "type": "string",
      "format": "date",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Date de l'exception au format YYYY-MM-DD",
      "examples": ["2025-12-25", "2025-01-01", "2025-07-14"]
    },
    "action": {
      "type": "string",
      "enum": ["include", "exclude"],
      "description": "Action à appliquer: 'include' pour inclure ce jour férié, 'exclude' pour l'exclure",
      "examples": ["include", "exclude"]
    },
    "est_national": {
      "type": ["boolean", "null"],
      "description": "Indique si c'est un jour férié national (true) ou local/régional (false). Null si non spécifié.",
      "examples": [true, false, null],
      "default": null
    },
    "recurrent": {
      "type": ["boolean", "null"],
      "description": "Indique si c'est un jour férié récurrent/annuel (true) ou exceptionnel/ponctuel (false). Null si non spécifié.",
      "examples": [true, false, null],
      "default": null
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "date": "2025-12-25",
      "action": "include",
      "est_national": true,
      "recurrent": true,
      "description": "Inclure la sonnerie pour Noël (jour férié national récurrent)"
    },
    {
      "date": "2025-01-01",
      "action": "exclude",
      "est_national": true,
      "recurrent": true,
      "description": "Exclure la sonnerie pour le Jour de l'An (jour férié national récurrent)"
    },
    {
      "date": "2025-07-14",
      "action": "include",
      "est_national": true,
      "recurrent": true,
      "description": "Inclure la sonnerie pour la Fête Nationale (jour férié national récurrent)"
    },
    {
      "date": "2025-11-11",
      "action": "exclude",
      "est_national": true,
      "recurrent": true,
      "description": "Exclure la sonnerie pour l'Armistice (jour férié national récurrent)"
    },
    {
      "date": "2025-05-08",
      "action": "include",
      "est_national": false,
      "recurrent": true,
      "description": "Inclure la sonnerie pour une fête locale récurrente"
    },
    {
      "date": "2025-06-15",
      "action": "exclude",
      "est_national": false,
      "recurrent": false,
      "description": "Exclure la sonnerie pour un événement exceptionnel local"
    }
  ],
  "definitions": {
    "action_include": {
      "const": "include",
      "description": "Inclure: La sonnerie sera active même si c'est un jour férié"
    },
    "action_exclude": {
      "const": "exclude",
      "description": "Exclure: La sonnerie ne sera PAS active pour ce jour férié"
    }
  }
}
